Обновление прошивки
======================

.. danger:: Перед осуществлением первого полета, **обязательно обновите прошивку** (если версия автопилота ниже, чем 1.6.7011) и параметры автопилота "Пионера Мини". Полет с устаревшей версией прошивки автопилота может быть небезопасен.

Для корректной работы всех систем "Пионера" рекомендуется устанавливать последнюю актуальную версию прошивки. Для этого на вашем компьютере должна быть установлена программа Pioneer Station. Если у вас ее нет, нажмите `скачать установщик Pioneer Station`_, загрузка начнется автоматически. После этого необходимо запустить скачанный exe файл.

.. _скачать установщик Pioneer Station: https://www.geoscan.aero/ru/products/pioneer/mini#pills-download

.. note:: Если вы пользователь квадрокоптер "Геоскан Пионер" и у вас уже есть данная программа, советуем ее еще раз скачать и обновить версию. Это необходимо для корректной работы. Версия Pioneer Station 1.10.0 более не актуальна. Необходима версия 1.11.0.


Пошаговая инструкция обновления версии автопилота "Пионера Мини"
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~



1. Подключите квадрокоптер к компьютеру с помощью кабеля micro-USB входящий в комплект поставки. И запустите программу "Pioneer Station". Включите квадрокоптер нажав на кнопку сбоку. Левый светодиод сзади должен начать мерцать.

.. figure:: media/onoffswitch.png
   :align: center

2. В левом нижнем углу нажмите кнопку **"Подключение"** и выберете **"По кабелю USB"**

.. figure:: media/firmware-step1.PNG
   :align: center

3. В верхнем правом углу нажмите иконку **"квадрокоптера"** и выберете **"Обновление прошивки"**

.. figure:: media/firmware-step2.PNG
   :align: center

4. В открывшемся окне нажмите **"Далее"**, у Пионера Мини погаснет левый-задний светодиод статуса, это означает что квадрокоптер перешёл в режим обновления (бутлоадера).


5. В следующем окне нажмите **"Обновить"** и выберете модуль **"DFUPioneer-Mini-A"** это и есть базовая плата "Пионера Мини".

.. figure:: media/firmware-step3.PNG
   :align: center

.. note::
	Если при выборе устройства квадрокоптер не отображается в окне, попробуйте переподключить его и перезапустить программу. Если это не помогло, попробуйте `скачать и установить драйвер порта`_, после чего переподключите "Пионер Мини" и перезапустите программу.

6. В следующем окне нажмите **"Встроенный"** или **"Из файла"** и найдите файл с примерным названием **pioneer_mini_V1_1-boot-pioneer-1.6.7011.bin** Самое главное чтобы в названии файла было прописано *pioneer_mini* и версия прошивки *1.6.7011* или старше.

7. Нажмите "Прошить", обновление прошивки может занимать до нескольких минут в зависимости от вашего ПК.

.. attention:: Не прерывайте соединение USB между коптером и ПК во время обновления, это может привести к серьезным проблемам и временному выходу квадрокоптера из строя!

8. Дождитесь окончания прошивки, это может занять несколько минут. После завершения нажмите "ОК", после чего отключите питание (от USB и/или от аккумулятора) и затем заново включите квадрокоптер нажатием на кнопку на корпусе. Левый задний светодиод должен периодически мигать фиолетовым цветом.


9. Заново подключитесь к квадрокоптеру в стандартном режиме по USB и проверьте версию АП. Если все сделано правильно то в столбце *"Версия"* вы увидите значение не меньше чем *1.6.7011*. 

.. figure:: media/firmware-step4.PNG
   :align: center


.. _скачать и установить драйвер порта: https://www.silabs.com/products/development-tools/software/usb-to-uart-bridge-vcp-drivers

Если Вы столкнулись с проблемой обновления прошивки или работы "Пионера", напишите в техподдержку Геоскан
support@geoscan.aero

.. note:: Настоятельно рекомендуем обновить параметры вашего "Пионер Мини", для это перейдите на страницу
          :doc:`autopilot_parameters`. Стандартные параметры автопилота и "Пионера Мини" и обычного "Пионера" различаются имейте это в виду. Это связано с *различной электронной начинкой* квадрокоптеров. Также параметры непосредственно влияют на качество полета.
